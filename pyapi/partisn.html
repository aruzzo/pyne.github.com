


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PARTISN Input and Output Interfaces – pyne.partisn &#8212; PyNE 0.5.11</title>
    <link rel="stylesheet" href="../_static/pyne.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.base.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../_static/pyne_icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37452818-1']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">PyNE</a> &#187;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="partisn-input-and-output-interfaces-pyne-partisn">
<span id="pyne-partisn"></span><h1>PARTISN Input and Output Interfaces – <a class="reference internal" href="#module-pyne.partisn" title="pyne.partisn"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyne.partisn</span></code></a><a class="headerlink" href="#partisn-input-and-output-interfaces-pyne-partisn" title="Permalink to this headline">¶</a></h1>
<p>There is a module for processing input and output for PARTISN.  The
functionality of the module can be obtained by importing as such:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyne</span> <span class="k">import</span> <span class="n">partisn</span>
</pre></div>
</div>
<div class="section" id="partisn-api">
<h2>PARTISN API<a class="headerlink" href="#partisn-api" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-pyne.partisn"></span><p>Module for the production of PartiSn input decks. PartiSn is a discrete
ordinates code produced by Los Almos National Laboratory (LANL). Can be used
to produce neutron, photon, or coupled neutron photon prblems, adjoint or
forward or time dependent problems can be run.</p>
<p>Module is designed to work on 1D, 2D, or 3D Cartesian geometries.</p>
<p>If PyMOAB not installed then this module will not work.</p>
<dl class="function">
<dt id="pyne.partisn.format_repeated_vector">
<code class="descclassname">pyne.partisn.</code><code class="descname">format_repeated_vector</code><span class="sig-paren">(</span><em>vector</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#format_repeated_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.format_repeated_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates string out of a vector with the PARTISN format for repeated
numbers.</p>
</dd></dl>

<dl class="function">
<dt id="pyne.partisn.isotropic_vol_source">
<code class="descclassname">pyne.partisn.</code><code class="descname">isotropic_vol_source</code><span class="sig-paren">(</span><em>geom</em>, <em>mesh</em>, <em>cells</em>, <em>spectra</em>, <em>intensities</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#isotropic_vol_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.isotropic_vol_source" title="Permalink to this definition">¶</a></dt>
<dd><p>This function creates an isotropic volumetric source within each
requested geometry cell of a DAGMC CAD geometry. This is done by Monte
Carlo ray tracing to determine volume fractions of each source cell within
each mesh volume element. The PARTISN SOURCF card is returned, as well as
the ray-traced volume fractions (dagmc.discretize_geom output), so that ray
tracing does not have to be done twice when using this function with
write_partisn_input. The supplied mesh is also tagged with the calculated
source distribution using this function.</p>
</dd></dl>

<dl class="function">
<dt id="pyne.partisn.mesh_to_isotropic_source">
<code class="descclassname">pyne.partisn.</code><code class="descname">mesh_to_isotropic_source</code><span class="sig-paren">(</span><em>m</em>, <em>tag</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#mesh_to_isotropic_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.mesh_to_isotropic_source" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads an isotropic source definition from a supplied mesh
and creates a corresponding PARTISN SOURCF input card. The input card wraps
to 80 characters and utilizes the “R” repeation notation for zero values
(e.g. 4R 0 = 0 0 0 0).</p>
</dd></dl>

<dl class="function">
<dt id="pyne.partisn.write_partisn_input">
<code class="descclassname">pyne.partisn.</code><code class="descname">write_partisn_input</code><span class="sig-paren">(</span><em>mesh</em>, <em>hdf5</em>, <em>ngroup</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#write_partisn_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.write_partisn_input" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads a material-laden geometry file and a pre-made PyNE
mesh object and writes a PARTISN text input file for blocks 1-5. The
following cards are included:</p>
<p>block 1: igeom, ngroup, niso,  mt, nzone, im, it, jm, jt, km, kt,
block 2: xmesh, xints, ymesh, yints, zmesh, zints, zones,
block 3: names,
block 4: matls, assign,
block 5: source.</p>
<p>The ‘source’ card that appears by default is uniform in space and energy
and isotropic in direction. In addition, “suggested” cards are printed,
commented-out. These suggested cards are the additional cards required for a
minimum working PARTISN input file:</p>
<p>block 1: isn, maxscm, maxlcm,
block 2: lib, lng, maxord, ihm, iht, ihs, ifido, ititl.</p>
<p>Using the ‘cards’ parameter, any one of these cards (including ‘source’) as
well as any PARTISN input card not specified here can be supplied and
printed to the input file. Supplied cards will be ommitted from suggested
cards.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>mesh</strong> <span class="classifier-delimiter">:</span> <span class="classifier">PyNE mesh</span></dt>
<dd><p class="first last">A premade mesh object that conforms to the geometry. Bounds of the mesh
must correspond to the desired PARTISN coarse mesh intervals. By default
one fine mesh inverval per coarse mesh will be used. This can be changed
with the fine_per_coarse parameter. The sum of all fine mesh intervals
in the problem must be greater than or equal to 7. Mesh can be 1-D
(Nx1x1 mesh), 2-D (NxMx1 mesh), or 3-D (NxMxP mesh). Only Cartesian
meshes are currently supported.</p>
</dd>
<dt><strong>hdf5</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">File path to a material-laden dagmc geometry file.</p>
</dd>
<dt><strong>ngroup</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd><p class="first last">The number of energy groups in the cross section library.</p>
</dd>
<dt><strong>input_file</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string, optional, default = ‘&lt;hdf5 file name&gt;_partisn.inp’</span></dt>
<dd><p class="first last">Desired path of generated PARTISN input file. Any file already existing
by the same name will be overwritten.</p>
</dd>
<dt><strong>cards</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict, optional, default = {}</span></dt>
<dd><p class="first">This is a dictionary with the following keys: ‘block1’, ‘block2’,
‘block3’, ‘block4’, ‘block5’. The values are each dicts in the format:</p>
<blockquote>
<div><p>&lt;partisn_card_name&gt;:&lt;partisn_card_value&gt;. These cards will be printed</p>
</div></blockquote>
<p class="last">out in the input file produced by this function. When specifying a
source via this method, the key source be ‘source’ and the value should
the entire source card, including the card name (e.g. source, sourcx,
sourcef, etc) and ‘=’.</p>
</dd>
<dt><strong>names_dict</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict, optional, default = None</span></dt>
<dd><p class="first last">PyNE element/isotope names to bxslib name assignment. Keys are PyNE
nucids (int) and values are bxslib names (str)
Example: names_dict[250550000] =’mn55’</p>
</dd>
<dt><strong>num_rays</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int, optional, default = 10</span></dt>
<dd><p class="first last">For discretize_geom. Structured mesh only. The number of rays to fire
in each mesh row for each direction.</p>
</dd>
<dt><strong>grid</strong> <span class="classifier-delimiter">:</span> <span class="classifier">boolean, optional, default = False</span></dt>
<dd><p class="first last">For discretize_geom. Structured mesh only. If false, rays starting
points are chosen randomly (on the boundary) for each mesh row. If
true, a linearly spaced grid of starting points is used, with dimension
sqrt(num_rays) x sqrt(num_rays). In this case, “num_rays” must be a
perfect square.</p>
</dd>
<dt><strong>dg</strong> <span class="classifier-delimiter">:</span> <span class="classifier">record array, optional, default = None</span></dt>
<dd><p class="first last">The output of pyne.dagmc.discretize_geom(). Use this input option if
discretize_geom() has already been run, to avoid duplicating this
expensive step. If HAVE_DAGMC=False, then this must be supplied.</p>
</dd>
<dt><strong>mat_assigns</strong> <span class="classifier-delimiter">:</span> <span class="classifier">dict, optional, default = None</span></dt>
<dd><p class="first last">The output from pyne.cell_material_assignments().
Dictionary of the cell to material assignments. Keys are cell
numbers and values are material names. If HAVE_DAGMC=False, then
this must be supplied.</p>
</dd>
<dt><strong>fine_per_coarse</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int, optional, default = 1</span></dt>
<dd><p class="first last">The number of fine mesh intervals per coarse mesh interval.</p>
</dd>
<dt><strong>data_hdf5path</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string, optional, default = /materials</span></dt>
<dd><p class="first last">the path in the heirarchy to the data table in an HDF5 file.</p>
</dd>
<dt><strong>nuc_hdf5path</strong> <span class="classifier-delimiter">:</span> <span class="classifier">string, optional, default = /nucid</span></dt>
<dd><p class="first last">the path in the heirarchy to the nuclide array in an HDF5 file.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/pyne_icon_small.png" alt="Logo"/>
        </a></p><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">PARTISN Input and Output Interfaces – <code class="docutils literal notranslate"><span class="pre">pyne.partisn</span></code></a><ul>
<li><a class="reference internal" href="#partisn-api">PARTISN API</a></li>
</ul>
</li>
</ul>

  </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">PyNE</a> &#187;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer">
    <div style="background-color:rgba(255,255,255,0.5);display:inline-block;border-radius:10px;padding:6px;">
        
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2019, The PyNE Development Team.
      Last updated on Apr 01, 2019.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
    </div>
    </div>
  </body>
</html>